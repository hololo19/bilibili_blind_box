# B站盲盒统计工具 - 打包发布指南

## 📦 给不会Python的人使用

### 最简单的方法（三步完成）

#### 1️⃣ 双击运行 `快速打包.bat`
等待几分钟自动完成打包

#### 2️⃣ 在 `dist` 文件夹找到 `盲盒统计工具.exe`

#### 3️⃣ 将exe文件 + 使用说明.txt 发送给使用者

完成！使用者双击exe即可运行，无需安装Python。

---

## 📝 文件说明

| 文件名 | 说明 |
|--------|------|
| `快速打包.bat` | 一键打包脚本（推荐使用） |
| `打包工具.bat` | 完整打包脚本（带详细提示） |
| `build_exe.spec` | PyInstaller配置文件 |
| `build_single.spec` | 单文件版配置文件 |
| `requirements_gui.txt` | GUI程序依赖列表 |
| `使用说明.txt` | 给最终用户的使用说明 |
| `打包指南.txt` | 给开发者的详细打包教程 |
| `打包检查清单.txt` | 打包前后检查项 |

---

## ⚙️ 手动打包命令

如果bat脚本无法运行，可以手动执行：

```bash
# 安装依赖
pip install -r requirements_gui.txt

# 打包成单个exe文件（推荐）
pyinstaller --onefile --windowed --name="盲盒统计工具" blind_box_gui.py

# 或者打包成文件夹（启动更快）
pyinstaller --windowed --name="盲盒统计工具" blind_box_gui.py
```

---

## 🎯 打包方式对比

| 方式 | 优点 | 缺点 | 适用场景 |
|------|------|------|----------|
| **单文件版** | 只有一个exe，方便分享 | 启动稍慢 | 推荐 |
| **文件夹版** | 启动快 | 需要整个文件夹 | 电脑配置较低 |

---

## 📋 发布包内容

发送给使用者的文件应包含：

```
盲盒统计工具v2.0/
├── 盲盒统计工具.exe          ← 主程序
├── 使用说明.txt              ← 用户必读
└── （可选）示例截图.png       ← 帮助理解
```

---

## ✅ 测试清单

打包后务必测试：

- [ ] 双击exe能否正常启动
- [ ] 能否输入房间号和Cookie
- [ ] 能否连接直播间
- [ ] 统计数据是否正常
- [ ] 停止功能是否正常
- [ ] 在其他电脑上能否运行

---

## 🐛 常见问题

### Q: 杀毒软件报毒？
A: PyInstaller打包的程序可能被误报，可以添加数字证书或告知用户添加信任。

### Q: exe文件很大（50-80MB）？
A: 正常现象，PyQt5库本身就很大。如果需要更小，可以使用UPX压缩。

### Q: 打包后运行报错？
A: 使用 `--debug` 参数查看详细错误：
```bash
pyinstaller --onefile --windowed --debug blind_box_gui.py
```

### Q: 提示找不到模块？
A: 在 `build_exe.spec` 的 `hiddenimports` 中添加该模块。

---

## 📞 用户支持

建议准备好以下问题的解答：

1. **如何获取Cookie？**
   → 参考使用说明.txt中的详细步骤

2. **提示"获取房间信息失败"？**
   → Cookie已过期，需要重新获取（有效期约1个月）

3. **程序打不开？**
   → 检查杀毒软件是否拦截

4. **找不到房间号？**
   → 在直播间URL中：live.bilibili.com/123456，房间号就是123456

---

## 🔄 版本更新

当程序更新时：

1. 修改代码
2. 运行打包脚本
3. 测试新版本
4. 更新版本号和使用说明

---

## 📧 技术支持

如遇到打包问题，检查：

1. Python版本是否为3.8+
2. 所有依赖是否正确安装
3. blind_box_gui.py文件是否存在且无语法错误
4. 是否有足够的磁盘空间（至少500MB）

---

**祝打包顺利！**
